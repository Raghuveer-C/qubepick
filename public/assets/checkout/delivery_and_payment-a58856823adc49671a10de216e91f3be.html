<section class="step delivery-and-payment" ng-class="{active: active, done: done, loading: processing}" ng-controller="CheckoutDeliveryAndPaymentCtrl"><div class="edit" ng-click="edit()" ng-show="done"><span class="fa fa-pencil"></span></div><section id="delivery"><h2>{{ :: 'checkout.delivery_options' | translate}}</h2><shipping-rate-selection disabled="!active || processing" order="order"></shipping-rate-selection></section><section id="credit-card"><h2>{{ :: 'checkout.credit_card' | translate}}</h2><credit-card-selection credit-card="order.creditCard" credit-cards="user.creditCards" disabled="!active || processing" submitted="submitted"></credit-card-selection></section><button class="next btn btn-primary btn-lg btn-block" ng-click="advance()" ng-disabled="processing" ng-show="active"><span ng-if="!processing">{{ :: 'checkout.next' | translate }}&nbsp;<span class="glyphicon glyphicon-chevron-right"></span></span><span ng-if="processing"><span class="fa fa-refresh fa-spin"></span>&nbsp;<span class="caption">{{ :: 'checkout.processing' | translate }}</span></span></button></section>