<section class="step addresses" ng-class="{active: active, done: done, loading: processing}" ng-controller="CheckoutAddressesCtrl"><div class="edit" ng-click="edit()" ng-show="done"><span class="fa fa-pencil"></span></div><section id="shipping-address"><h2 ng-show="order.billToShipAddress">{{ :: 'checkout.shipping_and_billing_address' | translate}}</h2><h2 ng-hide="order.billToShipAddress">{{ :: 'checkout.shipping_address' | translate}}</h2><address-selection address="order.shippingAddress" addresses="shippingAddresses" countries="countries" disabled="!active || processing" submitted="submitted"></address-selection><label><input ng-disabled="!active || processing" ng-model="order.billToShipAddress" type="checkbox" />&nbsp;{{ :: 'checkout.bill_to_shipping_address' | translate}}</label></section><section id="billing-address" ng-hide="order.billToShipAddress"><h2>{{ :: 'checkout.billing_address' | translate}}</h2><address-selection address="order.billingAddress" addresses="billingAddresses" countries="countries" disabled="!active || processing" submitted="submitted"></address-selection></section><button class="next btn btn-primary btn-lg btn-block" ng-click="advance()" ng-disabled="processing" ng-show="active"><span ng-if="!processing">{{ :: 'checkout.next' | translate }}&nbsp;<span class="glyphicon glyphicon-chevron-right"></span></span><span ng-if="processing"><span class="fa fa-refresh fa-spin"></span>&nbsp;<span class="caption">{{ :: 'checkout.processing' | translate }}</span></span></button></section>